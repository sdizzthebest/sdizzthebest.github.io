<!DOCTYPE HTML>
<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
p {
  text-align: center;
  font-size: 250px;
  margin-top: 300px;
}
</style>
</head>

<body>

  <script type="text/javascript">
    
  </script>


  <p id="demo"> </p>
      <script>
        const params = new Proxy(new URLSearchParams(window.location.search), {
        get: (searchParams, prop) => searchParams.get(prop), 
        });
        // Get the value of "some_key" in eg "https://example.com/?some_key=some_value"
        let cnt = parseInt(params.cnt); // "some_value"

      // If no query string is passed, set default countdown to 10 mins
      if (!cnt) {
        console.log("cnt is null");
        cnt = 10
      }

      //console.log(typeof(cnt));
      //console.log(cnt);

      var countDownDate = new Date()
      countDownDate.setMinutes( countDownDate.getMinutes() + cnt );
      countDownDate.setSeconds( countDownDate.getSeconds() + 5 ); // Needed this to handle lag

      
      //console.log("countDownDate hardcode = " + countDownDate.setMinutes( countDownDate.getMinutes() + cnt2 ))
      //console.log("countDownDate param = " + countDownDate.setMinutes( countDownDate.getMinutes() + cnt ))

      // Update the count down every 1 second
      var x = setInterval(function() {

        // Get today's date and time
        var now = new Date().getTime();
          
        // Find the time difference between now and the count down date
        var timediff = countDownDate - now;
          
        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(timediff / (1000 * 60 * 60 * 24));
        var hours = Math.floor((timediff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((timediff % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((timediff % (1000 * 60)) / 1000);
          
        // Output the result in an element with id="demo"
        //document.getElementById("demo").innerHTML = days + "d " + hours + "h "
        //+ minutes + "m " + seconds + "s ";

        document.getElementById("demo"). style.color = "blue";
        //document.getElementById("demo").style.fontSize = "xx-large";
          
         document.getElementById("demo").innerHTML = hours + "h "
         + minutes + "m " + seconds + "s ";


        // If the count down is over, write some text 
        if (timediff < 0) {
          clearInterval(x);
          document.getElementById("demo").innerHTML = "Times up!";
        }
      }, 1000);
      </script>


 

</body>
</html>
